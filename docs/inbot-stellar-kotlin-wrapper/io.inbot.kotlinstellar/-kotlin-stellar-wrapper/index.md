[inbot-stellar-kotlin-wrapper](../../index.md) / [io.inbot.kotlinstellar](../index.md) / [KotlinStellarWrapper](./index.md)

# KotlinStellarWrapper

`class KotlinStellarWrapper`

Helper that makes doing common operations against Stellar less boiler plate heavy.

### Parameters

`server` - the Stellar Server instance

`networkPassphrase` - if using a standalone chain, provide the password here. This enables you to use the root account for account creation.

`minimumBalance` - minimumBalance for accounts. Currently 20.0 on standalone chaines but cheaper in the public network.

`defaultMaxTries` - default amount of times a transaction is retried in case of conflicts with the sequence number (tx_bad_seq) before failing; default is 10

### Types

| Name | Summary |
|---|---|
| [PreparedTransaction](-prepared-transaction/index.md) | `data class PreparedTransaction` |

### Constructors

| Name | Summary |
|---|---|
| [&lt;init&gt;](-init-.md) | `KotlinStellarWrapper(server: Server, minimumBalance: `[`TokenAmount`](../-token-amount/index.md)` = TokenAmount.of(1, 0), defaultMaxTries: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)` = 10, network: Network = Network("Standalone Network ; February 2017"))`<br>Helper that makes doing common operations against Stellar less boiler plate heavy. |

### Properties

| Name | Summary |
|---|---|
| [defaultMaxTries](default-max-tries.md) | `val defaultMaxTries: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)<br>default amount of times a transaction is retried in case of conflicts with the sequence number (tx_bad_seq) before failing; default is 10 |
| [minimumBalance](minimum-balance.md) | `val minimumBalance: `[`TokenAmount`](../-token-amount/index.md)<br>minimumBalance for accounts. Currently 20.0 on standalone chaines but cheaper in the public network. |
| [network](network.md) | `val network: Network` |
| [rootKeyPair](root-key-pair.md) | `val rootKeyPair: KeyPair?`<br>the keypair associated with the root account; should only be used on standalone networks. |
| [server](server.md) | `val server: Server`<br>the Stellar Server instance |

### Functions

| Name | Summary |
|---|---|
| [assetsSequence](assets-sequence.md) | `fun assetsSequence(assetIssuer: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`? = null, assetCode: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`? = null, cursor: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)` = "now", fetchSize: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)` = 200, endless: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = false, pollingIntervalMs: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)` = 5000, sleepOnThrottle: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`): `[`Sequence`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/-sequence/index.html)`<AssetResponse>` |
| [awaitServerIsRunning](await-server-is-running.md) | `fun awaitServerIsRunning(): `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html) |
| [createAccount](create-account.md) | `fun createAccount(amountLumen: `[`TokenAmount`](../-token-amount/index.md)`, memo: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`? = null, sourceAccount: KeyPair? = null, newAccount: KeyPair = KeyPair.random(), maxTries: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)` = defaultMaxTries, signers: `[`Array`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/index.html)`<KeyPair> = if (sourceAccount != null) arrayOf(sourceAccount) else arrayOf(rootKeyPair ?: throw IllegalStateException("signers are required if not running on a standalone net"))): KeyPair`<br>Create a new account and return the keyPair. |
| [deleteOffer](delete-offer.md) | `fun deleteOffer(account: KeyPair, offerResponse: OfferResponse, maxTries: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)` = defaultMaxTries, signers: `[`Array`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/index.html)`<KeyPair> = arrayOf(account)): SubmitTransactionResponse` |
| [deleteOffers](delete-offers.md) | `fun deleteOffers(account: KeyPair, maxTries: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)` = defaultMaxTries, signers: `[`Array`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/index.html)`<KeyPair> = arrayOf(account), limit: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)` = 200): SubmitTransactionResponse?` |
| [isPaymentPossible](is-payment-possible.md) | `fun isPaymentPossible(sender: KeyPair, receiver: KeyPair, tokenAmount: `[`TokenAmount`](../-token-amount/index.md)`): `[`Pair`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-pair/index.html)`<`[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)`, `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`>` |
| [mostRecentPrice](most-recent-price.md) | `fun mostRecentPrice(baseAsset: Asset, counterAsset: Asset): Price?` |
| [offersSequence](offers-sequence.md) | `fun offersSequence(account: KeyPair? = null, cursor: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)` = "now", fetchSize: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)` = 10, endless: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = false, pollingIntervalMs: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)` = 5000, sleepOnThrottle: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`): `[`Sequence`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/-sequence/index.html)`<OfferResponse>` |
| [operationsSequence](operations-sequence.md) | `fun operationsSequence(account: KeyPair? = null, ledger: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`? = null, cursor: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)` = "now", fetchSize: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)` = 10, endless: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = false, pollingIntervalMs: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)` = 5000, sleepOnThrottle: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`): `[`Sequence`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/-sequence/index.html)`<OperationResponse>` |
| [pay](pay.md) | `fun pay(sender: KeyPair, receiver: KeyPair, amount: `[`TokenAmount`](../-token-amount/index.md)`, asset: Asset = amount.asset ?: nativeXlmAsset, memo: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`? = null, maxTries: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)` = defaultMaxTries, signers: `[`Array`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/index.html)`<KeyPair> = arrayOf(sender), validate: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = true): SubmitTransactionResponse`<br>Create a trustline to an asset. |
| [paymentSequence](payment-sequence.md) | `fun paymentSequence(account: KeyPair? = null, ledger: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`? = null, transactionId: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`? = null, cursor: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)` = "now", fetchSize: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)` = 10, endless: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = false, pollingIntervalMs: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)` = 5000): `[`Sequence`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/-sequence/index.html)`<PaymentOperationResponse>` |
| [placeOffer](place-offer.md) | `fun placeOffer(account: KeyPair, sell: `[`TokenAmount`](../-token-amount/index.md)`, forAtLeast: `[`TokenAmount`](../-token-amount/index.md)`, passive: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = false, signers: `[`Array`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/index.html)`<KeyPair> = arrayOf(account), maxTries: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)` = defaultMaxTries): SubmitTransactionResponse`<br>`fun placeOffer(account: KeyPair, selling: Asset, buying: Asset, sellingAmount: `[`TokenAmount`](../-token-amount/index.md)`, price: `[`TokenAmount`](../-token-amount/index.md)`, passive: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = false, maxTries: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)` = defaultMaxTries, signers: `[`Array`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/index.html)`<KeyPair> = arrayOf(account)): SubmitTransactionResponse` |
| [preparePaymentTransaction](prepare-payment-transaction.md) | `fun preparePaymentTransaction(sender: KeyPair, receiver: KeyPair, amount: `[`TokenAmount`](../-token-amount/index.md)`, asset: Asset = amount.asset ?: nativeXlmAsset, memo: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`? = null, validate: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = true, transactionTimeout: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)` = Transaction.Builder.TIMEOUT_INFINITE, baseFee: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)` = 100): `[`KotlinStellarWrapper.PreparedTransaction`](-prepared-transaction/index.md) |
| [setAccountOptions](set-account-options.md) | `fun setAccountOptions(account: KeyPair, maxTries: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)` = defaultMaxTries, signers: `[`Array`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/index.html)`<KeyPair> = arrayOf(account), block: Builder.() -> `[`Unit`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html)`): SubmitTransactionResponse` |
| [testConnection](test-connection.md) | `fun testConnection(): `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html) |
| [tradeAggs](trade-aggs.md) | `fun tradeAggs(baseAsset: Asset, counterAsset: Asset = nativeXlmAsset, from: `[`Instant`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html)`, to: `[`Instant`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html)`, resolution: `[`TradeAggregationResolution`](../-trade-aggregation-resolution/index.md)`, cursor: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`? = null, limit: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)` = 20, descending: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = false, offSet: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)` = 0L): `[`Sequence`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/-sequence/index.html)`<TradeAggregationResponse>` |
| [trades](trades.md) | `fun trades(baseAsset: Asset? = null, counterAsset: Asset? = null, offerId: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`? = null, account: KeyPair? = null, cursor: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`? = null, limit: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)` = 20, descending: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = false): `[`Sequence`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/-sequence/index.html)`<TradeResponse>` |
| [transactionsSequence](transactions-sequence.md) | `fun transactionsSequence(account: KeyPair? = null, ledger: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`? = null, cursor: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)` = "now", fetchSize: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)` = 10, endless: `[`Boolean`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html)` = false, pollingIntervalMs: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)` = 5000, sleepOnThrottle: `[`Long`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-long/index.html)`): `[`Sequence`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/-sequence/index.html)`<TransactionResponse>` |
| [trustAsset](trust-asset.md) | `fun trustAsset(account: KeyPair, asset: Asset, maxTrustedAmount: `[`TokenAmount`](../-token-amount/index.md)`, maxTries: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)` = defaultMaxTries, signers: `[`Array`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/index.html)`<KeyPair> = arrayOf(account)): SubmitTransactionResponse`<br>Create a trustline to an asset. |
| [updateOffer](update-offer.md) | `fun updateOffer(account: KeyPair, offerResponse: OfferResponse, sell: `[`TokenAmount`](../-token-amount/index.md)`, forAtLeast: `[`TokenAmount`](../-token-amount/index.md)`, maxTries: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)` = defaultMaxTries, signers: `[`Array`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/index.html)`<KeyPair> = arrayOf(account)): SubmitTransactionResponse`<br>`fun updateOffer(account: KeyPair, offerResponse: OfferResponse, newAmountSelling: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, newPrice: `[`String`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html)`, maxTries: `[`Int`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html)` = defaultMaxTries, signers: `[`Array`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/index.html)`<KeyPair> = arrayOf(account)): SubmitTransactionResponse` |
